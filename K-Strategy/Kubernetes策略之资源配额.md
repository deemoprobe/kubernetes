# Kubernetes策略之资源配额

场景: 当多用户共享同一集群节点时, 为了避免集群中相关资源的不合理使用和提高资源的利用率, 对该集群的资源进行合理分配和限制, Kubernetes中通过"资源配额"解决这种问题

通过 `ResourceQuota` 对象来定义,对每个命名空间的资源消耗总量提供限制. 可以限制命名空间中某种类型的对象的总数目上限,也可以限制对计算机资源使用量的限制(cpu/内存/磁盘空间等).

| 资源名称        | 描述信息                                                           |
| --------------- | ------------------------------------------------------------------ |
| limits.cpu      | 所有非终止状态的 Pod，其 CPU 限额总量不能超过该值。                |
| limits.memory   | 所有非终止状态的 Pod，其内存限额总量不能超过该值。                 |
| requests.cpu    | 所有非终止状态的 Pod，其 CPU 需求总量不能超过该值。                |
| requests.memory | 所有非终止状态的 Pod，其内存需求总量不能超过该值。                 |
| hugepages-size  | 对于所有非终止状态的 Pod，针对指定尺寸的巨页请求总数不能超过此值。 |
| cpu             | 与 requests.cpu 相同。                                             |
| memory          | 与 requests.memory 相同。                                          |

> CPU单位换算：100m CPU，100 milliCPU 和 0.1 CPU 都相同；精度不能超过 1m。1000m CPU = 1 CPU。

以上是"计算资源的配额"进行限制, 还可以对"存储资源配额"(如根据StorageClass限制存储资源的消耗),"API对象资源配额"(Pod, Service, ConfigMap等)进行资源分配和限制.

## 基于Namespace

## 基于Pod
